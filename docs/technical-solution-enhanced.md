# Shipitto Pro å¢å¼ºç‰ˆï¼šå…¨å±€ä¸€è‡´æ€§ä¸å±€éƒ¨åˆ›æ„çš„å¹³è¡¡æ¡†æ¶

> ç›®æ ‡ï¼šè§£å†³"å…¨å±€è§†è§‰ä¸€è‡´æ€§ vs å±€éƒ¨å¸ƒå±€æ··ä¹±"é—®é¢˜ï¼Œå»ºç«‹**çº¦æŸé©±åŠ¨åˆ›æ„**çš„è®¾è®¡ç³»ç»Ÿï¼Œè®©AIç”Ÿæˆæ—¢æƒŠè‰³åˆä¸€è‡´çš„ç½‘ç«™ã€‚

---

## æ ¸å¿ƒæ´å¯Ÿï¼šé—®é¢˜çš„æœ¬è´¨

### å½“å‰å›°å¢ƒè¯Šæ–­

| é—®é¢˜è¡¨ç° | æ ¹æœ¬åŸå›  | å½±å“ |
|---------|---------|------|
| å…¨å±€è§†è§‰ä¸ä¸€è‡´ | Design Tokenå±‚çº§æ··ä¹±ï¼Œç¼ºä¹ä¸¥æ ¼çš„ä½œç”¨åŸŸéš”ç¦» | å“ç‰Œæ„Ÿå¼±ï¼Œåƒæ‹¼å‡‘ |
| å±€éƒ¨å¸ƒå±€æ··ä¹± | ç»„ä»¶å˜ä½“è§„åˆ™æ¨¡ç³Šï¼ŒAIè‡ªç”±åº¦è¿‡é«˜ | è§†è§‰å™ªéŸ³ï¼Œä¸“ä¸šæ„Ÿä¸‹é™ |
| ä¸å¤ŸæƒŠè‰³ | è¿‡åº¦çº¦æŸæ‰¼æ€åˆ›æ„ï¼Œæˆ–å®Œå…¨æ— çº¦æŸå¯¼è‡´å¤±æ§ | å¹³åº¸æˆ–æ··ä¹± |

### å…³é”®è®¤çŸ¥è½¬å˜

```
âŒ é”™è¯¯æ€è·¯ï¼šå…¨å±€çº¦æŸ vs å±€éƒ¨åˆ›æ„ = å¯¹ç«‹å…³ç³»
âœ… æ­£ç¡®æ€è·¯ï¼šå…¨å±€çº¦æŸ â†’ ä¸ºå±€éƒ¨åˆ›æ„åˆ’å®šã€Œå®‰å…¨è¾¹ç•Œã€
```

**çº¦æŸä¸æ˜¯é™åˆ¶ï¼Œè€Œæ˜¯åˆ›æ„çš„è„šæ‰‹æ¶ã€‚**

---

## 1. ä¸‰å±‚Tokenæ¶æ„ï¼šä¸¥æ ¼çš„ä½œç”¨åŸŸåˆ†å±‚

å‚è€ƒç¤¾åŒºæœ€ä½³å®è·µï¼ˆWaveMakerã€shadcn/uiï¼‰ï¼Œå»ºç«‹**ä¸å¯é€¾è¶Š**çš„Tokenå±‚çº§ï¼š

### 1.1 Tokenå±‚çº§å®šä¹‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LAYER 1: GLOBAL TOKENS (å…¨å±€å±‚) - å“ç‰ŒDNAï¼Œå…¨ç«™ç»Ÿä¸€              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â€¢ é¢œè‰²ï¼š--color-primary, --color-background                      â”‚
â”‚  â€¢ å­—ä½“ï¼š--font-heading, --font-body                             â”‚
â”‚  â€¢ é—´è·ç³»ç»Ÿï¼š--space-1 (4px), --space-2 (8px)...                  â”‚
â”‚  â€¢ åœ†è§’ï¼š--radius-sm, --radius-md, --radius-lg                   â”‚
â”‚  â€¢ é˜´å½±ï¼š--shadow-sm, --shadow-md                                â”‚
â”‚                                                                   â”‚
â”‚  ğŸ”’ è§„åˆ™ï¼šæ‰€æœ‰ç»„ä»¶å¿…é¡»å¼•ç”¨ï¼Œç¦æ­¢ç¡¬ç¼–ç                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LAYER 2: COMPONENT TOKENS (ç»„ä»¶å±‚) - è¯­ä¹‰æ˜ å°„ï¼Œè·¨å˜ä½“å…±äº«         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â€¢ Button: --button-bg â†’ var(--color-primary)                    â”‚
â”‚  â€¢ Card: --card-border-radius â†’ var(--radius-md)                 â”‚
â”‚  â€¢ Input: --input-border-color â†’ var(--color-border)             â”‚
â”‚                                                                   â”‚
â”‚  ğŸ”’ è§„åˆ™ï¼šåªèƒ½å¼•ç”¨Global Tokensï¼Œä¸èƒ½ç¡¬ç¼–ç                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LAYER 3: VARIANT TOKENS (å˜ä½“å±‚) - å·®å¼‚åŒ–è¡¨è¾¾ï¼Œåˆ›æ„ç©ºé—´            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â€¢ Button Primary: bg=var(--color-primary)                       â”‚
â”‚  â€¢ Button Secondary: bg=transparent, border=var(--color-primary) â”‚
â”‚  â€¢ Button Ghost: bg=transparent, hover=var(--color-muted)        â”‚
â”‚                                                                   â”‚
â”‚  âœ… è§„åˆ™ï¼šåœ¨Global/Componentçº¦æŸå†…è‡ªç”±ç»„åˆï¼Œå…è®¸åˆ›æ–°                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LAYER 4: INSTANCE OVERRIDES (å®ä¾‹å±‚) - ç‰¹æ®Šåœºæ™¯ï¼Œä¸¥æ ¼å—é™          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â€¢ ä»…é™ï¼šèƒŒæ™¯å›¾ã€ç‰¹å®šæ–‡æ¡ˆã€å›¾æ ‡æ›¿æ¢                                 â”‚
â”‚  â€¢ ç¦æ­¢ï¼šä¿®æ”¹é¢œè‰²ã€å­—ä½“ã€é—´è·ç³»ç»Ÿ                                   â”‚
â”‚                                                                   â”‚
â”‚  ğŸ”’ è§„åˆ™ï¼šç™½åå•åˆ¶ï¼Œéœ€äººå·¥å®¡æ ¸æˆ–é«˜ç½®ä¿¡åº¦AIåˆ¤æ–­                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 Tokenæ–‡ä»¶ç»„ç»‡

```
tokens/
â”œâ”€â”€ global/                    # Layer 1: å…¨å±€Tokens
â”‚   â”œâ”€â”€ colors.json           # å“ç‰Œè‰²æ¿
â”‚   â”œâ”€â”€ typography.json       # å­—ä½“ç³»ç»Ÿ
â”‚   â”œâ”€â”€ spacing.json          # é—´è·ç³»ç»Ÿ (4pxåŸºå‡†)
â”‚   â”œâ”€â”€ radius.json           # åœ†è§’ç³»ç»Ÿ
â”‚   â””â”€â”€ shadows.json          # é˜´å½±ç³»ç»Ÿ
â”œâ”€â”€ components/               # Layer 2: ç»„ä»¶Tokens
â”‚   â”œâ”€â”€ button.json
â”‚   â”œâ”€â”€ card.json
â”‚   â”œâ”€â”€ input.json
â”‚   â””â”€â”€ ...
â”œâ”€â”€ variants/                 # Layer 3: å˜ä½“å®šä¹‰
â”‚   â”œâ”€â”€ button-variants.json
â”‚   â”œâ”€â”€ card-variants.json
â”‚   â””â”€â”€ ...
â””â”€â”€ themes/                   # ä¸»é¢˜è¦†ç›–
    â”œâ”€â”€ light.json
    â””â”€â”€ dark.json
```

### 1.3 å…³é”®è§„åˆ™ï¼ˆå¼ºåˆ¶æ‰§è¡Œï¼‰

```typescript
// design-system-enforcer.ts - TokenéªŒè¯è§„åˆ™

const TOKEN_RULES = {
  // è§„åˆ™1: Global Tokens åªèƒ½åŒ…å«åŸå§‹å€¼
  global: {
    allowed: ['color', 'dimension', 'font', 'shadow'],
    forbidden: ['reference'], // ç¦æ­¢å¼•ç”¨å…¶ä»–token
  },
  
  // è§„åˆ™2: Component Tokens åªèƒ½å¼•ç”¨Global Tokens
  component: {
    allowed: ['reference'],
    mustReference: /^--[a-z]+-/, // å¿…é¡»ä»¥globalå‰ç¼€å¼€å¤´
    forbidden: ['raw-value'],
  },
  
  // è§„åˆ™3: Variant Tokens åªèƒ½å¼•ç”¨ Component/Global Tokens
  variant: {
    allowed: ['reference', 'conditional'],
    constraints: {
      colors: 'must-use-semantic-name', // å¿…é¡»ç”¨è¯­ä¹‰å‘½å
      spacing: 'must-use-scale',        // å¿…é¡»ç”¨è§„èŒƒåˆ»åº¦
    },
  },
  
  // è§„åˆ™4: Instance Overrides ç™½åå•åˆ¶
  instance: {
    allowed: ['content', 'image-src', 'icon-name'],
    forbidden: ['color', 'font', 'spacing', 'radius'],
  },
};
```

---

## 2. ç»„ä»¶å˜ä½“å†³ç­–æ ‘ï¼šAIçš„åˆ›æ„è¾¹ç•Œ

### 2.1 å˜ä½“é€‰æ‹©å†³ç­–æµç¨‹

```
AIç”Ÿæˆç»„ä»¶æ—¶ï¼Œå¿…é¡»æŒ‰ä»¥ä¸‹å†³ç­–æ ‘æ‰§è¡Œï¼š

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 1: è¯†åˆ«è¯­ä¹‰è§’è‰² (Semantic Role)                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â€¢ åˆ†æå†…å®¹æ„å›¾ï¼šCTA / ä¿¡æ¯å±•ç¤º / å¯¼èˆª / ç¤¾äº¤è¯æ˜               â”‚
â”‚  â€¢ å‚è€ƒï¼šatoms_dsl.semanticRole                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 2: é€‰æ‹©åŸºç¡€ç»„ä»¶ (Base Component)                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â€¢ æ ¹æ®è¯­ä¹‰è§’è‰²æ˜ å°„åˆ°æ ‡å‡†ç»„ä»¶                                    â”‚
â”‚  â€¢ ä¾‹ï¼šCTA â†’ Button | LeadCaptureCTA                            â”‚
â”‚  â€¢ ä¾‹ï¼šç¤¾äº¤è¯æ˜ â†’ TestimonialsGrid | LogoCloud                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 3: ç¡®å®šå˜ä½“ (Variant Selection)                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â€¢ æ ¹æ®å†…å®¹ç‰¹å¾è‡ªåŠ¨æ¨æ–­å˜ä½“                                      â”‚
â”‚  â€¢ å¿…é¡»æ»¡è¶³å˜ä½“çº¦æŸæ¡ä»¶                                          â”‚
â”‚  â€¢ ä¸æ»¡è¶³æ—¶ï¼Œè‡ªåŠ¨é™çº§åˆ°æœ‰æ•ˆå˜ä½“                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 4: åº”ç”¨åˆ›æ„è£…é¥° (Creative Layer)                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â€¢ åœ¨Tokençº¦æŸå†…é€‰æ‹©ï¼šå›¾æ ‡ã€åŠ¨æ•ˆã€å¾®äº¤äº’                          â”‚
â”‚  â€¢ ç¦æ­¢ï¼šçªç ´Tokenè¾¹ç•Œ                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 å˜ä½“çº¦æŸè¡¨ï¼ˆç¤ºä¾‹ï¼šButtonï¼‰

| å˜ä½“ | è§¦å‘æ¡ä»¶ | æ ·å¼çº¦æŸ | åˆ›æ„ç©ºé—´ |
|------|---------|---------|---------|
| `default` | ä¸»è¦æ“ä½œ | bg=primary, text=primary-foreground | å›¾æ ‡é€‰æ‹©ã€hoveråŠ¨æ•ˆ |
| `secondary` | æ¬¡è¦æ“ä½œ | bg=secondary, border=transparent | å›¾æ ‡é€‰æ‹©ã€hoveråŠ¨æ•ˆ |
| `outline` | ä½ä¼˜å…ˆçº§ | bg=transparent, border=primary | è¾¹æ¡†ç²—ç»†ã€å›¾æ ‡ |
| `ghost` | æç®€åœºæ™¯ | bg=transparent, hover=muted | æ–‡å­—è£…é¥°ã€å›¾æ ‡ |
| `gradient` | é«˜å¼ºè°ƒCTA | æ¸å˜å¿…é¡»åœ¨å“ç‰Œè‰²èŒƒå›´å†… | æ¸å˜è§’åº¦ã€åŠ¨ç”» |
| `glass` | ç°ä»£æ„Ÿéœ€æ±‚ | èƒŒæ™¯æ¨¡ç³Š+åŠé€æ˜ | æ¨¡ç³Šåº¦ã€è¾¹æ¡†å…‰æ•ˆ |

### 2.3 åˆ›æ„è‡ªç”±åº¦é‡åŒ–

```typescript
// åˆ›æ„è‡ªç”±åº¦è¯„åˆ†ç³»ç»Ÿ
interface CreativeFreedom {
  // 0-100åˆ†ï¼Œè¶Šé«˜è‡ªç”±åº¦è¶Šå¤§
  score: number;
  
  // å¯è°ƒæ•´é¡¹ï¼ˆç™½åå•ï¼‰
  allowed: {
    icons: string[];      // å¯é€‰å›¾æ ‡åº“
    animations: string[]; // é¢„å®šä¹‰åŠ¨æ•ˆ
    microInteractions: string[]; // å¾®äº¤äº’
  };
  
  // ç¦æ­¢é¡¹ï¼ˆçº¢çº¿ï¼‰
  forbidden: {
    colors: boolean;      // ç¦æ­¢è‡ªå®šä¹‰é¢œè‰²
    fonts: boolean;       // ç¦æ­¢è‡ªå®šä¹‰å­—ä½“
    spacing: boolean;     // ç¦æ­¢è‡ªå®šä¹‰é—´è·
    layout: boolean;      // ç¦æ­¢çªç ´å¸ƒå±€çº¦æŸ
  };
}

// å„ç»„ä»¶åˆ›æ„è‡ªç”±åº¦é…ç½®
const CREATIVE_FREEDOM_MAP: Record<string, CreativeFreedom> = {
  Button: {
    score: 60,
    allowed: {
      icons: ['lucide', 'custom-svg'],
      animations: ['scale', 'glow', 'ripple'],
      microInteractions: ['hover-lift', 'active-press'],
    },
    forbidden: {
      colors: true,
      fonts: true,
      spacing: false, // å…è®¸å¾®è°ƒï¼ˆåœ¨scaleå†…ï¼‰
      layout: true,
    },
  },
  HeroSplit: {
    score: 40, // æ›´ä½ï¼Œå¸ƒå±€æ›´é‡è¦
    allowed: {
      icons: [],
      animations: ['fade-in', 'slide-in'],
      microInteractions: [],
    },
    forbidden: {
      colors: true,
      fonts: true,
      spacing: true,
      layout: false, // å…è®¸é€‰æ‹©left/rightå¸ƒå±€
    },
  },
  // ... å…¶ä»–ç»„ä»¶
};
```

---

## 3. å¸ƒå±€æ‹“æ‰‘çº¦æŸï¼šä»æ··ä¹±åˆ°æœ‰åº

### 3.1 å¸ƒå±€æ¨¡å¼åº“ï¼ˆLayout Pattern Libraryï¼‰

```typescript
// é¢„å®šä¹‰å¸ƒå±€æ¨¡å¼ï¼ŒAIå¿…é¡»ä»ä¸­é€‰æ‹©

const LAYOUT_PATTERNS = {
  // HeroåŒºåŸŸå¸ƒå±€
  hero: {
    'centered': {
      description: 'å†…å®¹å±…ä¸­ï¼Œé€‚åˆç®€æ´å“ç‰Œè¡¨è¾¾',
      constraints: {
        maxContentWidth: '800px',
        textAlign: 'center',
        mediaPosition: 'below',
      },
    },
    'split-left': {
      description: 'å†…å®¹å·¦ï¼Œåª’ä½“å³',
      constraints: {
        grid: '1fr 1fr',
        gap: 'var(--space-8)',
        contentAlign: 'left',
      },
    },
    'split-right': {
      description: 'å†…å®¹å³ï¼Œåª’ä½“å·¦',
      constraints: {
        grid: '1fr 1fr',
        gap: 'var(--space-8)',
        contentAlign: 'left',
      },
    },
    'fullscreen': {
      description: 'å…¨å±èƒŒæ™¯ï¼Œå†…å®¹è¦†ç›–',
      constraints: {
        minHeight: '100vh',
        contentPosition: 'center',
        overlay: 'required',
      },
    },
  },
  
  // å†…å®¹åŒºåŸŸå¸ƒå±€
  content: {
    'single-column': {
      maxWidth: '720px',
      margin: '0 auto',
    },
    'two-column': {
      grid: '1fr 1fr',
      gap: 'var(--space-12)',
    },
    'three-column': {
      grid: 'repeat(3, 1fr)',
      gap: 'var(--space-8)',
    },
    'asymmetric': {
      grid: '2fr 1fr',
      gap: 'var(--space-12)',
      // éå¯¹ç§°å¸ƒå±€éœ€è¦é¢å¤–å®¡æ ¸
      requiresApproval: true,
    },
  },
  
  // å¡ç‰‡ç½‘æ ¼å¸ƒå±€
  cards: {
    '2col': { columns: 2, maxItems: 6 },
    '3col': { columns: 3, maxItems: 9 },
    '4col': { columns: 4, maxItems: 8 },
    'masonry': { columns: 'auto', requiresApproval: true },
  },
};
```

### 3.2 å¸ƒå±€é€‰æ‹©å†³ç­–çŸ©é˜µ

```
AIé€‰æ‹©å¸ƒå±€æ—¶ï¼Œå¿…é¡»è€ƒè™‘ï¼š

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å†…å®¹é‡ â†’ å¸ƒå±€å¤æ‚åº¦                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å°‘é‡å†…å®¹ (1-2å…ƒç´ )  â†’  centered / single-column               â”‚
â”‚  ä¸­ç­‰å†…å®¹ (3-4å…ƒç´ )  â†’  two-column / split                     â”‚
â”‚  å¤§é‡å†…å®¹ (5+å…ƒç´ )   â†’  three-column / cards-grid              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å†…å®¹ç±»å‹ â†’ å¸ƒå±€æ¨¡å¼                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  äº§å“å±•ç¤º    â†’  split + å¤§å›¾                                    â”‚
â”‚  åŠŸèƒ½åˆ—è¡¨    â†’  cards-grid / feature-grid                       â”‚
â”‚  å®¢æˆ·è¯„ä»·    â†’  testimonials-grid / carousel                    â”‚
â”‚  å®šä»·ä¿¡æ¯    â†’  pricing-cards (2-3åˆ—)                          â”‚
â”‚  å“ç‰Œå±•ç¤º    â†’  logo-cloud / marquee                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è§†è§‰æƒé‡ â†’ å¸ƒå±€è°ƒæ•´                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å¼ºè°ƒæ–‡å­—    â†’  å¢åŠ ç•™ç™½ï¼Œå‡å°‘åˆ—æ•°                               â”‚
â”‚  å¼ºè°ƒå›¾ç‰‡    â†’  splitå¸ƒå±€ï¼Œå¢å¤§åª’ä½“åŒºåŸŸ                          â”‚
â”‚  å¹³è¡¡å±•ç¤º    â†’  å¯¹ç§°å¸ƒå±€ï¼Œç­‰åˆ†åˆ—                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 å¸ƒå±€ä¸€è‡´æ€§æ£€æŸ¥å™¨

```typescript
// layout-consistency-checker.ts

interface LayoutCheckResult {
  passed: boolean;
  violations: LayoutViolation[];
  suggestions: string[];
}

interface LayoutViolation {
  type: 'spacing' | 'alignment' | 'sizing' | 'grid';
  severity: 'error' | 'warning';
  message: string;
  location: string;
}

class LayoutConsistencyChecker {
  // æ£€æŸ¥é—´è·ä¸€è‡´æ€§
  checkSpacing(element: HTMLElement): LayoutViolation[] {
    const violations: LayoutViolation[] = [];
    const computedGap = getComputedStyle(element).gap;
    
    // å¿…é¡»æ˜¯4pxçš„å€æ•°
    const gapValue = parseInt(computedGap);
    if (gapValue % 4 !== 0) {
      violations.push({
        type: 'spacing',
        severity: 'error',
        message: `Gap ${gapValue}px is not a multiple of 4px`,
        location: element.tagName,
      });
    }
    
    // å¿…é¡»åœ¨é¢„è®¾åˆ»åº¦ä¸­
    const validGaps = [4, 8, 12, 16, 24, 32, 48, 64, 80, 96, 128];
    if (!validGaps.includes(gapValue)) {
      violations.push({
        type: 'spacing',
        severity: 'warning',
        message: `Gap ${gapValue}px is not a standard spacing value`,
        location: element.tagName,
      });
    }
    
    return violations;
  }
  
  // æ£€æŸ¥å¯¹é½ä¸€è‡´æ€§
  checkAlignment(elements: HTMLElement[]): LayoutViolation[] {
    const violations: LayoutViolation[] = [];
    
    // åŒä¸€å±‚çº§å…ƒç´ åº”å¯¹é½
    const alignments = elements.map(el => ({
      left: el.offsetLeft,
      top: el.offsetTop,
    }));
    
    // æ£€æµ‹ä¸å¯¹é½çš„æƒ…å†µ
    // ... å®ç°é€»è¾‘
    
    return violations;
  }
  
  // æ£€æŸ¥ç½‘æ ¼ä¸€è‡´æ€§
  checkGrid(container: HTMLElement): LayoutViolation[] {
    const violations: LayoutViolation[] = [];
    const gridTemplate = getComputedStyle(container).gridTemplateColumns;
    
    // æ£€æŸ¥æ˜¯å¦ä½¿ç”¨æ ‡å‡†ç½‘æ ¼
    const standardGrids = [
      'repeat(2, 1fr)',
      'repeat(3, 1fr)',
      'repeat(4, 1fr)',
      '1fr 1fr',
      '2fr 1fr',
    ];
    
    if (!standardGrids.some(g => gridTemplate.includes(g))) {
      violations.push({
        type: 'grid',
        severity: 'warning',
        message: `Non-standard grid: ${gridTemplate}`,
        location: container.className,
      });
    }
    
    return violations;
  }
}
```

---

## 4. æƒŠè‰³æ„Ÿç”Ÿæˆç­–ç•¥ï¼šåœ¨çº¦æŸä¸­åˆ›é€ æƒŠå–œ

### 4.1 æƒŠè‰³æ„Ÿçš„æ¥æºåˆ†æ

```
ç”¨æˆ·è§‰å¾—"æƒŠè‰³"çš„å…ƒç´ ï¼š

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. å¾®åŠ¨æ•ˆ (Micro-animations)                                   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â€¢ æŒ‰é’®hoveræ—¶çš„å…‰æ™•æ‰©æ•£                                        â”‚
â”‚  â€¢ å¡ç‰‡hoveræ—¶çš„è½»å¾®ä¸Šæµ®                                        â”‚
â”‚  â€¢ é¡µé¢åŠ è½½æ—¶çš„äº¤é”™å…¥åœºåŠ¨ç”»                                      â”‚
â”‚  âœ… å®ç°ï¼šåœ¨Tokençº¦æŸå†…ï¼Œä½¿ç”¨Framer Motioné¢„è®¾åŠ¨ç”»åº“             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. è§†è§‰å±‚æ¬¡ (Visual Hierarchy)                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â€¢ å…³é”®å†…å®¹çš„å¼ºè°ƒï¼ˆå¤§å­—å·ã€é«˜å¯¹æ¯”ï¼‰                               â”‚
â”‚  â€¢ è¾…åŠ©å†…å®¹çš„å¼±åŒ–ï¼ˆå°å­—å·ã€ä½å¯¹æ¯”ï¼‰                               â”‚
â”‚  â€¢ æ¸…æ™°çš„Få‹/Zå‹é˜…è¯»è·¯å¾„                                        â”‚
â”‚  âœ… å®ç°ï¼šä¸¥æ ¼æ‰§è¡Œtypography scaleï¼Œä½¿ç”¨å¯¹æ¯”åº¦å·¥å…·               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. ç•™ç™½è‰ºæœ¯ (Whitespace)                                       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â€¢ è¶³å¤Ÿçš„å‘¼å¸ç©ºé—´                                                â”‚
â”‚  â€¢ å†…å®¹å¯†åº¦çš„å¹³è¡¡                                                â”‚
â”‚  âœ… å®ç°ï¼šä½¿ç”¨spacing scaleï¼Œsection padding â‰¥ 80px              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. è´¨æ„Ÿç»†èŠ‚ (Texture & Depth)                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â€¢ å¾®å¦™çš„é˜´å½±ï¼ˆsoft shadowï¼‰                                     â”‚
â”‚  â€¢ æ¸å˜èƒŒæ™¯ï¼ˆå“ç‰Œè‰²èŒƒå›´å†…ï¼‰                                      â”‚
â”‚  â€¢ ç»ç’ƒæ€æ•ˆæœï¼ˆglass morphismï¼‰                                  â”‚
â”‚  âœ… å®ç°ï¼šä½¿ç”¨é¢„è®¾shadow/gradient tokens                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  5. äº¤äº’åŠ¨æ•ˆ (Interaction Feedback)                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â€¢ ç‚¹å‡»åé¦ˆ                                                      â”‚
â”‚  â€¢ çŠ¶æ€åˆ‡æ¢çš„å¹³æ»‘è¿‡æ¸¡                                            â”‚
â”‚  â€¢ æ»šåŠ¨è§¦å‘çš„è§†å·®æ•ˆæœ                                            â”‚
â”‚  âœ… å®ç°ï¼šä½¿ç”¨é¢„è®¾motion presets                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 æƒŠè‰³æ„Ÿç”Ÿæˆè§„åˆ™

```typescript
// stunning-effects-generator.ts

interface StunningEffect {
  name: string;
  category: 'animation' | 'visual' | 'interaction';
  constraints: EffectConstraints;
  implementation: string;
}

const STUNNING_EFFECTS: StunningEffect[] = [
  {
    name: 'glow-button',
    category: 'animation',
    constraints: {
      // å¿…é¡»ä½¿ç”¨å“ç‰Œè‰²
      colors: ['var(--color-primary)', 'var(--color-secondary)'],
      // åŠ¨æ•ˆæ—¶é•¿é™åˆ¶
      duration: { min: 200, max: 500 },
      // ç¼“åŠ¨å‡½æ•°
      easing: 'cubic-bezier(0.4, 0, 0.2, 1)',
    },
    implementation: `
      .btn-glow:hover {
        box-shadow: 0 0 20px var(--color-primary-alpha);
        transform: translateY(-2px);
        transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);
      }
    `,
  },
  {
    name: 'glass-card',
    category: 'visual',
    constraints: {
      // èƒŒæ™¯å¿…é¡»ä½¿ç”¨åŠé€æ˜å“ç‰Œè‰²
      background: 'rgba(var(--color-primary-rgb), 0.1)',
      // æ¨¡ç³Šåº¦é™åˆ¶
      blur: { min: 8, max: 20 },
      // è¾¹æ¡†
      border: '1px solid rgba(255, 255, 255, 0.2)',
    },
    implementation: `
      .card-glass {
        background: rgba(var(--color-primary-rgb), 0.1);
        backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: var(--radius-lg);
      }
    `,
  },
  {
    name: 'stagger-entrance',
    category: 'animation',
    constraints: {
      // äº¤é”™å»¶è¿Ÿ
      staggerDelay: { min: 50, max: 150 },
      // å…¥åœºæ–¹å‘
      direction: ['up', 'fade'],
      // æ€»æ—¶é•¿
      totalDuration: { max: 1000 },
    },
    implementation: `
      // Framer Motion staggerChildren
      const container = {
        hidden: { opacity: 0 },
        show: {
          opacity: 1,
          transition: {
            staggerChildren: 0.1,
          },
        },
      };
    `,
  },
  {
    name: 'gradient-text',
    category: 'visual',
    constraints: {
      // æ¸å˜å¿…é¡»åœ¨å“ç‰Œè‰²èŒƒå›´å†…
      gradient: 'linear-gradient(135deg, var(--color-primary), var(--color-secondary))',
      // ä»…ç”¨äºæ ‡é¢˜
      usage: 'heading-only',
    },
    implementation: `
      .text-gradient {
        background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      }
    `,
  },
];

// AIé€‰æ‹©æƒŠè‰³æ•ˆæœçš„è§„åˆ™
function selectStunningEffects(
  sectionType: string,
  contentImportance: 'high' | 'medium' | 'low',
  brandPersonality: 'modern' | 'classic' | 'playful'
): StunningEffect[] {
  const effects: StunningEffect[] = [];
  
  // é«˜é‡è¦æ€§å†…å®¹ â†’ æ›´å¤šåŠ¨æ•ˆ
  if (contentImportance === 'high') {
    effects.push(STUNNING_EFFECTS.find(e => e.name === 'stagger-entrance')!);
    effects.push(STUNNING_EFFECTS.find(e => e.name === 'glow-button')!);
  }
  
  // ç°ä»£å“ç‰Œ â†’ ç»ç’ƒæ€æ•ˆæœ
  if (brandPersonality === 'modern') {
    effects.push(STUNNING_EFFECTS.find(e => e.name === 'glass-card')!);
  }
  
  // HeroåŒºåŸŸ â†’ æ¸å˜æ–‡å­—
  if (sectionType === 'hero') {
    effects.push(STUNNING_EFFECTS.find(e => e.name === 'gradient-text')!);
  }
  
  return effects;
}
```

### 4.3 æƒŠè‰³åº¦è¯„åˆ†ç³»ç»Ÿ

```typescript
// stunning-score-evaluator.ts

interface StunningScore {
  total: number; // 0-100
  breakdown: {
    animation: number;
    visualHierarchy: number;
    whitespace: number;
    texture: number;
    interaction: number;
  };
  suggestions: string[];
}

function evaluateStunningScore(page: PageData): StunningScore {
  const score: StunningScore = {
    total: 0,
    breakdown: {
      animation: 0,
      visualHierarchy: 0,
      whitespace: 0,
      texture: 0,
      interaction: 0,
    },
    suggestions: [],
  };
  
  // è¯„ä¼°åŠ¨æ•ˆ
  const hasStaggerAnimation = page.sections.some(s => 
    s.animations?.includes('stagger')
  );
  const hasHoverEffects = page.sections.some(s => 
    s.interactions?.includes('hover')
  );
  score.breakdown.animation = (hasStaggerAnimation ? 40 : 0) + 
                               (hasHoverEffects ? 30 : 0);
  
  // è¯„ä¼°è§†è§‰å±‚æ¬¡
  const hasClearHierarchy = checkVisualHierarchy(page);
  score.breakdown.visualHierarchy = hasClearHierarchy ? 100 : 50;
  
  // è¯„ä¼°ç•™ç™½
  const whitespaceRatio = calculateWhitespaceRatio(page);
  score.breakdown.whitespace = Math.min(whitespaceRatio * 150, 100);
  
  // è¯„ä¼°è´¨æ„Ÿ
  const hasShadows = page.sections.some(s => s.styles?.shadow);
  const hasGradients = page.sections.some(s => s.styles?.gradient);
  score.breakdown.texture = (hasShadows ? 50 : 0) + (hasGradients ? 50 : 0);
  
  // è¯„ä¼°äº¤äº’
  const hasClickFeedback = page.sections.some(s => 
    s.interactions?.includes('click-feedback')
  );
  score.breakdown.interaction = hasClickFeedback ? 80 : 40;
  
  // è®¡ç®—æ€»åˆ†
  score.total = Math.round(
    (score.breakdown.animation * 0.25) +
    (score.breakdown.visualHierarchy * 0.25) +
    (score.breakdown.whitespace * 0.2) +
    (score.breakdown.texture * 0.15) +
    (score.breakdown.interaction * 0.15)
  );
  
  // ç”Ÿæˆå»ºè®®
  if (score.breakdown.animation < 50) {
    score.suggestions.push('æ·»åŠ äº¤é”™å…¥åœºåŠ¨ç”»');
  }
  if (score.breakdown.whitespace < 60) {
    score.suggestions.push('å¢åŠ sectioné—´è·ï¼Œæå‡å‘¼å¸æ„Ÿ');
  }
  
  return score;
}
```

---

## 5. å¢å¼ºçš„Builder/Architectæ¶æ„

### 5.1 ç”Ÿæˆæµç¨‹å¢å¼º

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Phase 1: Architect (æ¶æ„å¸ˆ) - å…¨å±€è§„åˆ’                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  è¾“å…¥ï¼šç”¨æˆ·éœ€æ±‚ + å‚è€ƒç«™ç‚¹ + å“ç‰ŒæŒ‡å—                              â”‚
â”‚  è¾“å‡ºï¼š                                                            â”‚
â”‚  â€¢ designNorthStar (è®¾è®¡åŒ—ææ˜Ÿ) - è§†è§‰æ–¹å‘ï¼ˆå¿…é¡»ä»ç”¨æˆ·è¾“å…¥åŠ¨æ€ç”Ÿæˆï¼‰ â”‚
â”‚  â€¢ globalTokens (å…¨å±€Tokens) - ä¸¥æ ¼çº¦æŸ                            â”‚
â”‚  â€¢ pageStructure (é¡µé¢ç»“æ„) - sectionåˆ—è¡¨                         â”‚
â”‚  â€¢ layoutPatterns (å¸ƒå±€æ¨¡å¼) - æ¯sectionçš„å¸ƒå±€é€‰æ‹©                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Phase 2: Builder (æ„å»ºå™¨) - å±€éƒ¨ç”Ÿæˆ                            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  è¾“å…¥ï¼šArchitectè¾“å‡º + sectionä¸Šä¸‹æ–‡                              â”‚
â”‚  è¾“å‡ºï¼š                                                            â”‚
â”‚  â€¢ component (ç»„ä»¶å®šä¹‰) - ä½¿ç”¨æ ‡å‡†Block                           â”‚
â”‚  â€¢ props (å±æ€§) - åœ¨Tokençº¦æŸå†…å¡«å……                                â”‚
â”‚  â€¢ creativeLayer (åˆ›æ„å±‚) - æƒŠè‰³æ•ˆæœé€‰æ‹©                           â”‚
â”‚                                                                   â”‚
â”‚  çº¦æŸæ£€æŸ¥ç‚¹ï¼š                                                      â”‚
â”‚  âœ“ Tokenå±‚çº§éªŒè¯                                                  â”‚
â”‚  âœ“ å˜ä½“è§„åˆ™éªŒè¯                                                   â”‚
â”‚  âœ“ å¸ƒå±€æ¨¡å¼éªŒè¯                                                   â”‚
â”‚  âœ“ åˆ›æ„è‡ªç”±åº¦éªŒè¯                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Phase 3: Consistency Checker (ä¸€è‡´æ€§æ£€æŸ¥å™¨)                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  æ£€æŸ¥é¡¹ï¼š                                                          â”‚
â”‚  â€¢ è·¨sectioné¢œè‰²ä¸€è‡´æ€§                                            â”‚
â”‚  â€¢ å­—ä½“ä½¿ç”¨ä¸€è‡´æ€§                                                 â”‚
â”‚  â€¢ é—´è·ç³»ç»Ÿä¸€è‡´æ€§                                                 â”‚
â”‚  â€¢ å¸ƒå±€å¯¹é½ä¸€è‡´æ€§                                                 â”‚
â”‚                                                                   â”‚
â”‚  å‘ç°é—®é¢˜ â†’ è‡ªåŠ¨ä¿®å¤æˆ–æ ‡è®°äººå·¥å®¡æ ¸                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Phase 4: Visual QA (è§†è§‰QA) - è´¨é‡éªŒè¯                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â€¢ æˆªå›¾å¯¹æ¯”                                                        â”‚
â”‚  â€¢ ç›¸ä¼¼åº¦è¯„åˆ†                                                      â”‚
â”‚  â€¢ æƒŠè‰³åº¦è¯„åˆ†                                                      â”‚
â”‚                                                                   â”‚
â”‚  ä¸è¾¾æ ‡ â†’ è§¦å‘auto-repairè¿­ä»£                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 Builder Promptå¢å¼ºæ¨¡æ¿

```typescript
// builder-prompt-enhanced.ts

interface BuilderPromptConfig {
  // ä¸¥æ ¼çº¦æŸéƒ¨åˆ†ï¼ˆå¿…é¡»éµå®ˆï¼‰
  constraints: {
    tokens: GlobalTokens;
    componentVariants: VariantRules;
    layoutPattern: LayoutPattern;
    maxItems: Record<string, number>;
  };
  
  // åˆ›æ„æŒ‡å¯¼éƒ¨åˆ†ï¼ˆå¯é€‰ï¼‰
  creativeGuidance: {
    stunningEffects: string[];
    animationHints: string[];
    visualPriority: string;
  };
  
  // å†…å®¹ä¸Šä¸‹æ–‡
  content: {
    heading: string;
    body: string;
    media?: MediaAsset;
    ctas?: CTA[];
  };
}

function generateBuilderPrompt(config: BuilderPromptConfig): string {
  return `
# Builderä»»åŠ¡ï¼šç”Ÿæˆ${config.content.heading} Section

## ğŸ”’ ä¸¥æ ¼çº¦æŸï¼ˆå¿…é¡»éµå®ˆï¼‰

### 1. Tokenç³»ç»Ÿ
${JSON.stringify(config.constraints.tokens, null, 2)}

**è§„åˆ™ï¼š**
- æ‰€æœ‰é¢œè‰²å¿…é¡»ä½¿ç”¨CSSå˜é‡ï¼ˆ--color-*ï¼‰
- æ‰€æœ‰é—´è·å¿…é¡»æ˜¯4pxå€æ•°ä¸”åœ¨é¢„è®¾åˆ»åº¦ä¸­
- æ‰€æœ‰å­—ä½“å¿…é¡»ä½¿ç”¨--font-headingæˆ–--font-body
- ç¦æ­¢ä»»ä½•ç¡¬ç¼–ç å€¼

### 2. ç»„ä»¶å˜ä½“è§„åˆ™
${JSON.stringify(config.constraints.componentVariants, null, 2)}

**è§„åˆ™ï¼š**
- å¿…é¡»æ ¹æ®å†…å®¹ç‰¹å¾é€‰æ‹©æ­£ç¡®å˜ä½“
- å˜ä½“ä¸æ»¡è¶³æ¡ä»¶æ—¶ï¼Œè‡ªåŠ¨é™çº§åˆ°æœ‰æ•ˆå˜ä½“
- ç¦æ­¢åˆ›å»ºæ–°çš„å˜ä½“

### 3. å¸ƒå±€æ¨¡å¼
${JSON.stringify(config.constraints.layoutPattern, null, 2)}

**è§„åˆ™ï¼š**
- ä¸¥æ ¼éµå¾ªå¸ƒå±€çº¦æŸ
- ç¦æ­¢çªç ´max-widthã€gridå®šä¹‰
- å†…å®¹å¿…é¡»æ­£ç¡®å¯¹é½

### 4. æ•°é‡é™åˆ¶
${JSON.stringify(config.constraints.maxItems, null, 2)}

## âœ¨ åˆ›æ„æŒ‡å¯¼ï¼ˆå¯é€‰ï¼‰

### æƒŠè‰³æ•ˆæœå»ºè®®
${config.creativeGuidance.stunningEffects.map(e => `- ${e}`).join('\n')}

### åŠ¨æ•ˆæç¤º
${config.creativeGuidance.animationHints.map(h => `- ${h}`).join('\n')}

### è§†è§‰ä¼˜å…ˆçº§
${config.creativeGuidance.visualPriority}

## ğŸ“ å†…å®¹

### æ ‡é¢˜
${config.content.heading}

### æ­£æ–‡
${config.content.body}

${config.content.media ? `### åª’ä½“\n${JSON.stringify(config.content.media)}` : ''}

${config.content.ctas ? `### CTA\n${JSON.stringify(config.content.ctas)}` : ''}

## ğŸ“¤ è¾“å‡ºæ ¼å¼

å¿…é¡»è¾“å‡ºæœ‰æ•ˆçš„NDJSONï¼ŒåŒ…å«ï¼š
1. component: ç»„ä»¶å®šä¹‰
2. block: Puck blocké…ç½®

æ‰€æœ‰propså¿…é¡»åœ¨Tokençº¦æŸå†…ã€‚
`;
}
```

---

## 6. æ–°å¢æ¨¡å—ï¼šConsistency Guardianï¼ˆä¸€è‡´æ€§å®ˆæŠ¤è€…ï¼‰

### 6.1 æ¨¡å—æ¶æ„

```typescript
// consistency-guardian/index.ts

/**
 * Consistency Guardian - å…¨å±€ä¸€è‡´æ€§å®ˆæŠ¤è€…
 * 
 * èŒè´£ï¼š
 * 1. ç”Ÿæˆå‰ï¼šéªŒè¯è®¾è®¡çº¦æŸ
 * 2. ç”Ÿæˆä¸­ï¼šå®æ—¶ç›‘æ§åå·®
 * 3. ç”Ÿæˆåï¼šå…¨å±€ä¸€è‡´æ€§æ£€æŸ¥
 * 4. ä¿®å¤å»ºè®®ï¼šæä¾›è‡ªåŠ¨ä¿®å¤æ–¹æ¡ˆ
 */

class ConsistencyGuardian {
  private tokenValidator: TokenValidator;
  private layoutChecker: LayoutConsistencyChecker;
  private visualChecker: VisualConsistencyChecker;
  private stunningEvaluator: StunningScoreEvaluator;
  
  // ç”Ÿæˆå‰éªŒè¯
  async preGenerateValidation(config: GenerationConfig): Promise<ValidationResult> {
    const results: ValidationResult = {
      passed: true,
      errors: [],
      warnings: [],
    };
    
    // éªŒè¯Tokené…ç½®
    const tokenResult = this.tokenValidator.validate(config.tokens);
    results.errors.push(...tokenResult.errors);
    results.warnings.push(...tokenResult.warnings);
    
    // éªŒè¯å˜ä½“è§„åˆ™
    const variantResult = this.validateVariantRules(config.variants);
    results.errors.push(...variantResult.errors);
    
    // éªŒè¯å¸ƒå±€æ¨¡å¼
    const layoutResult = this.validateLayoutPatterns(config.layouts);
    results.warnings.push(...layoutResult.warnings);
    
    results.passed = results.errors.length === 0;
    return results;
  }
  
  // ç”Ÿæˆåå…¨å±€æ£€æŸ¥
  async postGenerateCheck(page: PageData): Promise<ConsistencyReport> {
    const report: ConsistencyReport = {
      timestamp: new Date().toISOString(),
      checks: {},
      score: 0,
      issues: [],
      fixes: [],
    };
    
    // é¢œè‰²ä¸€è‡´æ€§æ£€æŸ¥
    report.checks.colorConsistency = this.visualChecker.checkColorConsistency(page);
    
    // å­—ä½“ä¸€è‡´æ€§æ£€æŸ¥
    report.checks.typographyConsistency = this.visualChecker.checkTypographyConsistency(page);
    
    // é—´è·ä¸€è‡´æ€§æ£€æŸ¥
    report.checks.spacingConsistency = this.layoutChecker.checkSpacingConsistency(page);
    
    // å¸ƒå±€å¯¹é½æ£€æŸ¥
    report.checks.alignmentConsistency = this.layoutChecker.checkAlignmentConsistency(page);
    
    // æƒŠè‰³åº¦è¯„åˆ†
    report.checks.stunningScore = this.stunningEvaluator.evaluate(page);
    
    // è®¡ç®—ç»¼åˆå¾—åˆ†
    report.score = this.calculateOverallScore(report.checks);
    
    // ç”Ÿæˆä¿®å¤å»ºè®®
    report.fixes = this.generateFixes(report.issues);
    
    return report;
  }
  
  // è‡ªåŠ¨ä¿®å¤
  async autoFix(page: PageData, issues: Issue[]): Promise<PageData> {
    let fixedPage = { ...page };
    
    for (const issue of issues) {
      switch (issue.type) {
        case 'color-mismatch':
          fixedPage = this.fixColorMismatch(fixedPage, issue);
          break;
        case 'spacing-nonstandard':
          fixedPage = this.fixSpacing(fixedPage, issue);
          break;
        case 'variant-invalid':
          fixedPage = this.fixVariant(fixedPage, issue);
          break;
        case 'missing-stunning-effect':
          fixedPage = this.addStunningEffect(fixedPage, issue);
          break;
      }
    }
    
    return fixedPage;
  }
}
```

### 6.2 ä¸€è‡´æ€§æ£€æŸ¥æ¸…å•

```typescript
// consistency-checklist.ts

export const CONSISTENCY_CHECKLIST = {
  // é¢œè‰²ä¸€è‡´æ€§
  color: {
    'primary-color-unified': {
      description: 'æ‰€æœ‰ä¸»è¦æ“ä½œä½¿ç”¨ç›¸åŒçš„primaryé¢œè‰²',
      check: (page) => {
        const primaryColors = extractAllPrimaryColors(page);
        return new Set(primaryColors).size === 1;
      },
      severity: 'error',
    },
    'background-consistent': {
      description: 'èƒŒæ™¯è‰²åœ¨ç›¸é‚»sectioné—´åè°ƒ',
      check: (page) => {
        // æ£€æŸ¥ç›¸é‚»sectionèƒŒæ™¯è‰²è¿‡æ¸¡
        return checkBackgroundTransitions(page);
      },
      severity: 'warning',
    },
    'text-contrast-sufficient': {
      description: 'æ–‡å­—ä¸èƒŒæ™¯å¯¹æ¯”åº¦ç¬¦åˆWCAGæ ‡å‡†',
      check: (page) => {
        return checkContrastRatios(page);
      },
      severity: 'error',
    },
  },
  
  // å­—ä½“ä¸€è‡´æ€§
  typography: {
    'heading-font-unified': {
      description: 'æ‰€æœ‰æ ‡é¢˜ä½¿ç”¨ç›¸åŒçš„headingå­—ä½“',
      check: (page) => {
        const headingFonts = extractHeadingFonts(page);
        return new Set(headingFonts).size === 1;
      },
      severity: 'error',
    },
    'body-font-unified': {
      description: 'æ‰€æœ‰æ­£æ–‡ä½¿ç”¨ç›¸åŒçš„bodyå­—ä½“',
      check: (page) => {
        const bodyFonts = extractBodyFonts(page);
        return new Set(bodyFonts).size === 1;
      },
      severity: 'error',
    },
    'type-scale-followed': {
      description: 'å­—å·éµå¾ªtypography scale',
      check: (page) => {
        return checkTypeScaleCompliance(page);
      },
      severity: 'warning',
    },
  },
  
  // é—´è·ä¸€è‡´æ€§
  spacing: {
    'spacing-multiple-of-4': {
      description: 'æ‰€æœ‰é—´è·æ˜¯4pxçš„å€æ•°',
      check: (page) => {
        return checkSpacingMultiples(page, 4);
      },
      severity: 'error',
    },
    'section-padding-consistent': {
      description: 'åŒç±»å‹section paddingä¸€è‡´',
      check: (page) => {
        return checkSectionPaddingConsistency(page);
      },
      severity: 'warning',
    },
  },
  
  // å¸ƒå±€ä¸€è‡´æ€§
  layout: {
    'grid-columns-consistent': {
      description: 'ç½‘æ ¼åˆ—æ•°ç¬¦åˆé¢„è®¾æ¨¡å¼',
      check: (page) => {
        return checkGridPatternCompliance(page);
      },
      severity: 'warning',
    },
    'alignment-consistent': {
      description: 'å¯¹é½æ–¹å¼åœ¨åŒä¸€sectionå†…ä¸€è‡´',
      check: (page) => {
        return checkAlignmentConsistency(page);
      },
      severity: 'warning',
    },
  },
  
  // æƒŠè‰³åº¦æ£€æŸ¥
  stunning: {
    'has-entrance-animation': {
      description: 'HeroåŒºåŸŸæœ‰å…¥åœºåŠ¨ç”»',
      check: (page) => {
        const hero = page.sections.find(s => s.type === 'hero');
        return hero?.animations?.length > 0;
      },
      severity: 'suggestion',
    },
    'has-hover-effects': {
      description: 'å¯äº¤äº’å…ƒç´ æœ‰hoveræ•ˆæœ',
      check: (page) => {
        return page.sections.some(s => 
          s.interactions?.includes('hover')
        );
      },
      severity: 'suggestion',
    },
    'sufficient-whitespace': {
      description: 'æœ‰è¶³å¤Ÿçš„ç•™ç™½ç©ºé—´',
      check: (page) => {
        return calculateWhitespaceRatio(page) > 0.3;
      },
      severity: 'suggestion',
    },
  },
};
```

---

## 7. å®æ–½è·¯çº¿å›¾

### Phase 1: Tokenæ¶æ„å¼ºåŒ–ï¼ˆ2å‘¨ï¼‰

- [ ] é‡æ„Tokenæ–‡ä»¶ç»“æ„ï¼Œä¸¥æ ¼åˆ†å±‚
- [ ] å®ç°TokenéªŒè¯å™¨
- [ ] æ›´æ–°æ‰€æœ‰ç»„ä»¶å¼•ç”¨
- [ ] æ·»åŠ Tokenå±‚çº§æ£€æŸ¥åˆ°CI

### Phase 2: å˜ä½“è§„åˆ™å¼•æ“ï¼ˆ2å‘¨ï¼‰

- [ ] å®šä¹‰å®Œæ•´å˜ä½“å†³ç­–æ ‘
- [ ] å®ç°å˜ä½“è‡ªåŠ¨é€‰æ‹©é€»è¾‘
- [ ] æ·»åŠ å˜ä½“çº¦æŸéªŒè¯
- [ ] æ›´æ–°Builder Prompt

### Phase 3: å¸ƒå±€æ‹“æ‰‘çº¦æŸï¼ˆ1å‘¨ï¼‰

- [ ] å»ºç«‹å¸ƒå±€æ¨¡å¼åº“
- [ ] å®ç°å¸ƒå±€é€‰æ‹©å†³ç­–çŸ©é˜µ
- [ ] æ·»åŠ å¸ƒå±€ä¸€è‡´æ€§æ£€æŸ¥å™¨
- [ ] é›†æˆåˆ°Builderæµç¨‹

### Phase 4: æƒŠè‰³æ•ˆæœç³»ç»Ÿï¼ˆ2å‘¨ï¼‰

- [ ] å»ºç«‹æƒŠè‰³æ•ˆæœåº“
- [ ] å®ç°åˆ›æ„è‡ªç”±åº¦è¯„åˆ†
- [ ] æ·»åŠ æƒŠè‰³åº¦è¯„ä¼°
- [ ] é›†æˆåˆ°Visual QA

### Phase 5: Consistency Guardianï¼ˆ2å‘¨ï¼‰

- [ ] å®ç°Guardianæ ¸å¿ƒæ¨¡å—
- [ ] æ·»åŠ æ‰€æœ‰ä¸€è‡´æ€§æ£€æŸ¥
- [ ] å®ç°è‡ªåŠ¨ä¿®å¤åŠŸèƒ½
- [ ] é›†æˆåˆ°å®Œæ•´æµç¨‹

---

## 8. å…³é”®æˆåŠŸæŒ‡æ ‡

| æŒ‡æ ‡ | å½“å‰ | ç›®æ ‡ | æµ‹é‡æ–¹å¼ |
|------|------|------|---------|
| è§†è§‰ä¸€è‡´æ€§å¾—åˆ† | - | â‰¥ 90 | Consistency Guardian |
| æƒŠè‰³åº¦å¾—åˆ† | - | â‰¥ 75 | Stunning Score Evaluator |
| Tokenè¿è§„æ•° | - | 0 | Token Validator |
| å¸ƒå±€æ··ä¹±ç‡ | - | < 5% | Layout Checker |
| å˜ä½“é€‰æ‹©å‡†ç¡®ç‡ | - | â‰¥ 95% | Variant Validator |
| è·¨sectioné¢œè‰²ä¸€è‡´ç‡ | - | 100% | Color Consistency Check |

---

## 9. æ€»ç»“ï¼šå…¨å±€ä¸å±€éƒ¨çš„å¹³è¡¡å“²å­¦

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚   å…¨å±€çº¦æŸï¼ˆä¸å¯çªç ´ï¼‰                                           â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                              â”‚
â”‚   â€¢ Tokenå±‚çº§ç³»ç»Ÿ                                                â”‚
â”‚   â€¢ å˜ä½“è§„åˆ™                                                     â”‚
â”‚   â€¢ å¸ƒå±€æ¨¡å¼                                                     â”‚
â”‚   â€¢ æ•°é‡é™åˆ¶                                                     â”‚
â”‚                                                                 â”‚
â”‚   â†“ ä¸ºåˆ›æ„åˆ’å®šå®‰å…¨è¾¹ç•Œ â†“                                         â”‚
â”‚                                                                 â”‚
â”‚   å±€éƒ¨åˆ›æ„ï¼ˆè‡ªç”±å‘æŒ¥ï¼‰                                           â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                              â”‚
â”‚   â€¢ å›¾æ ‡é€‰æ‹©                                                     â”‚
â”‚   â€¢ åŠ¨æ•ˆç»„åˆ                                                     â”‚
â”‚   â€¢ å¾®äº¤äº’è®¾è®¡                                                   â”‚
â”‚   â€¢ å†…å®¹ç¼–æ’                                                     â”‚
â”‚                                                                 â”‚
â”‚   â†“ åœ¨å®‰å…¨è¾¹ç•Œå†…åˆ›é€ æƒŠå–œ â†“                                       â”‚
â”‚                                                                 â”‚
â”‚   ç»“æœï¼šæ—¢ä¸€è‡´åˆæƒŠè‰³çš„ç½‘ç«™                                        â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ ¸å¿ƒåŸåˆ™ï¼š**

1. **çº¦æŸå…ˆè¡Œ**ï¼šå…ˆç”Ÿæˆçº¦æŸï¼Œå†ç”Ÿæˆåˆ›æ„
2. **å±‚çº§æ¸…æ™°**ï¼šTokenå››å±‚æ¶æ„ï¼Œä¸å¯é€¾è¶Š
3. **è§„åˆ™é©±åŠ¨**ï¼šå˜ä½“é€‰æ‹©ã€å¸ƒå±€é€‰æ‹©éƒ½æœ‰æ˜ç¡®è§„åˆ™
4. **æƒŠè‰³æœ‰åº¦**ï¼šåœ¨çº¦æŸå†…åˆ›é€ æƒŠå–œï¼Œè€Œéçªç ´çº¦æŸ
5. **æŒç»­éªŒè¯**ï¼šæ¯ä¸ªé˜¶æ®µéƒ½æœ‰éªŒè¯å’Œä¿®å¤æœºåˆ¶
